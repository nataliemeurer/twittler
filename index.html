<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet"
  </head>
  <body>
    <h1>Twittler</h1>
    <h3>Twitter, but better...</h3>
    <div class="main">
    </div>
    <script>

      $(document).ready(function(){
        updateTweets();
      });

      var updateTweets = function(){
        var $home = $('.main');
        $home.html('');
        var time= new Date();
          //update the page with all existing tweets in a list format
          var index = streams.home.length - 1;
          while(index >= 0 && index >= streams.home.length-11){
            var tweet = streams.home[index];
            var $tweet = $('<div class="tweet"></div>');
            var timeStamp = tweet.created_at.getHours() + ":" + tweet.created_at.getMinutes() + ":" + tweet.created_at.getSeconds();
            $tweet.html('<ul><li class="user">@' + tweet.user + '</li><li class="time">' + timeStamp + '</li><li class="message">' + tweet.message + '</li></ul>');
            $tweet.appendTo($home);
            index -= 1;
          }
      }

      setInterval(updateTweets, 1000)
    </script>
  </body>
</html>
